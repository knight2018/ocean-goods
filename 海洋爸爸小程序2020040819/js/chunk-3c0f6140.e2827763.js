(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c0f6140"],{"48a6":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("tabBar",{attrs:{show:!0,add:t.handleAdd}}),a("TablePage",{attrs:{columns:t.tableList.columns,data:t.tableList.data1,total:t.tableList.total,limit:t.search.limit,handleSearch:t.handleSearch},on:{"change-limit":t.handleChange},model:{value:t.search.page,callback:function(e){t.$set(t.search,"page",e)},expression:"search.page"}}),a("Modal",{attrs:{title:"删除数据",loading:t.loading},on:{"on-ok":t.asyncOK},model:{value:t.modalOff,callback:function(e){t.modalOff=e},expression:"modalOff"}},[a("p",[t._v("数据无价，确定要删除数据么")])])],1)},n=[],r=(a("386d"),a("a481"),a("55dd"),a("7f7f"),a("7fbc")),u={data:function(){var t=this;return{id:null,loading:!0,delId:null,name:"",type:0,tableList:{columns:[{title:"属性id",key:"attributeId",align:"center"},{title:"属性名称",key:"attributeName",align:"center"},{title:"商品类型",key:"attributeCategoryId",align:"center",render:function(e,a){return e("div",{},t.name)}},{title:"属性是否可选",key:"selectType",align:"center",render:function(e,a){return e("div",{},t.getType(a.row.selectType))}},{title:"属性值的录入方式",key:"inputType",align:"center",render:function(t,e){return t("div",{},0===e.row.inputType?"手工录入":"从列表选取")}},{title:"可选值列表",key:"inputList",align:"center",tooltip:!0},{title:"排序",key:"sort",align:"center"},{title:"操作",key:"packName",align:"center",render:function(e,a){return e("div",{style:{display:"flex",justifyContent:"center"}},[e("i-button",{style:{marginLeft:"15px"},on:{click:function(){var e=a.row,i=e.attributeId,n=e.attributeName,r=e.selectType,u=e.inputType,o=e.sort,d=e.inputList,l=e.attributeCategoryId,c=e.handAddStatus;d=d.replace(/,/g,"\n"),t.$router.push({name:"/attributeAdd",query:{attributeCategoryId:l,attributeId:i,attributeName:n,selectType:r,inputType:u,sort:o,inputList:d,handAddStatus:c,attributeType:t.type}})}}},"编辑"),e("i-button",{style:{marginLeft:"15px"},props:{type:"error"},on:{click:function(){t.delId=a.row.attributeId,t.modalOff=!0}}},"删除")])}}],data1:[],total:0},modalOff:!1,search:{page:1,limit:10}}},methods:{handleAdd:function(){this.$router.push({name:"/attributeAdd",query:{attributeCategoryId:this.id,attributeType:this.type}})},asyncOK:function(){var t=this;this.loading=!0;var e={attributeStatus:0};Object(r["c"])(this.delId,e).then((function(e){t.$Message.warning("删除成功"),t.handleSearch(),t.modalOff=!1})).catch((function(e){t.$Message.warning("删除失败"),t.loading=!1}))},handleSearch:function(t){var e=this;this.loading=!0,"page"!==t&&(this.search.page=1);var a=this.id,i=this.type,n=this.page,u=this.limit;Object(r["b"])({attributeCategoryId:a,attributeType:i,pageNum:n,pageSize:u}).then((function(t){e.tableList.data1=t.data.data,e.tableList.total=t.data.total})).catch((function(t){}))},handleChange:function(t){this.search.limit=t,this.id&&this.handleSearch()},getType:function(t){return 0===t?"唯一":1===t?"单选":2===t?"多选":void 0}},created:function(){this.$route.query.id?(this.id=this.$route.query.id,this.name=this.$route.query.name,this.type=this.$route.query.type,this.handleSearch()):this.$router.back()}},o=u,d=a("2877"),l=Object(d["a"])(o,i,n,!1,null,null,null);e["default"]=l.exports},"7fbc":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return u}));var i=a("66df"),n=function(t){var e=t.attributeCategoryId,a=t.attributeType,n=t.pageNum,r=t.pageSize,u={attributeCategoryId:e,attributeType:a,pageNum:n,pageSize:r};return i["a"].request({url:"/productAttribute/list",params:u,method:"get"})},r=function(t){return i["a"].request({url:"/productAttribute/create",data:t,method:"post",headers:{"content-type":"application/json"}})},u=function(t,e){return i["a"].request({url:"/productAttribute/update/".concat(t),data:e,method:"post",headers:{"content-type":"application/json"}})}}}]);