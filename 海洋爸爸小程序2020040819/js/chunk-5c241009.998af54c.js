(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c241009"],{"023c":function(t,e,n){},"1fc8":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"detalis-box"},[n("Card",{staticStyle:{width:"80%"}},[n("Steps",{attrs:{current:t.index,status:t.error}},[n("Step",{attrs:{title:t.titleList[0],content:"待付款"}}),n("Step",{attrs:{title:t.titleList[1],content:"待发货"}}),n("Step",{attrs:{title:t.titleList[2],content:"已发货"}}),n("Step",{attrs:{title:t.titleList[3],content:"已完成"}})],1),n("div",{staticClass:"content-warp"},[n("div",{staticClass:"content-box"},[n("div",{staticClass:"title-wrap"},[n("div",{staticClass:"title"},[n("Icon",{attrs:{type:"ios-alert",color:"#ee6d6c",size:25}}),t._v("\n\t\t\t\t\t\t当前订单状态："+t._s(t.getStatus(t.message.status))+"\n\t\t\t\t\t")],1),n("div",[0===t.message.status?n("Button",{on:{click:t.handleDel}},[t._v("删除订单")]):t._e(),1===t.message.status?n("Button",{staticClass:"mg-lf",on:{click:t.handleRemark}},[t._v("确认发货")]):t._e(),1===t.message.status?n("Button",{staticClass:"mg-lf",on:{click:t.handleRemark}},[t._v("修改收货人信息")]):t._e(),n("Button",{staticClass:"mg-lf",on:{click:t.handleRemark}},[t._v("备注订单")])],1)]),n("div",{staticClass:"content-item"},[n("div",{staticClass:"title"},[n("Icon",{attrs:{type:"ios-bookmark",size:25}}),n("span",[t._v("基本信息")])],1),n("ModelTable",{attrs:{columns:t.basicInformation,data:[t.message]}}),n("ModelTable",{attrs:{columns:t.basicInformation2,data:[t.message]}})],1),n("div",{staticClass:"content-item"},[n("div",{staticClass:"title"},[n("Icon",{attrs:{type:"ios-bookmark",size:25}}),n("span",[t._v("收货人信息")])],1),n("ModelTable",{attrs:{columns:t.consignee,data:[t.message]}})],1),n("div",{staticClass:"content-item"},[n("div",{staticClass:"title"},[n("Icon",{attrs:{type:"ios-bookmark",size:25}}),n("span",[t._v("商品信息")])],1),n("ModelTable",{attrs:{columns:t.commodityInformation,data:t.message.orderItemList}})],1),n("div",{staticClass:"content-item"},[n("div",{staticClass:"title"},[n("Icon",{attrs:{type:"ios-bookmark",size:25}}),n("span",[t._v("费用信息")])],1),n("ModelTable",{attrs:{columns:t.priceInformation,data:[t.message]}}),n("ModelTable",{attrs:{columns:t.priceInformation2,data:[t.message]}})],1),n("div",{staticClass:"content-item"},[n("div",{staticClass:"title"},[n("Icon",{attrs:{type:"ios-bookmark",size:25}}),n("span",[t._v("操作信息")])],1),n("ModelTable",{attrs:{columns:t.operation,data:t.message.historyList}})],1)])])],1),n("Modal",{attrs:{title:"备注订单",loading:t.loading},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[n("span",[t._v("操作备注：")]),n("Input",{staticStyle:{width:"400px"},attrs:{type:"textarea"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)],1)},r=[],i=n("9826"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table-components"},[n("Table",{attrs:{border:"",columns:t.columns,"disabled-hover":"",data:t.data}})],1)},c=[],s={name:"ModelTable",props:{columns:{type:Array,default:[]},data:{type:Array,default:[]}},data:function(){return{}}},l=s,u=(n("d9ce"),n("2877")),d=Object(u["a"])(l,o,c,!1,null,null,null),m=d.exports,g=n("f8b7"),f={components:{ModelTable:m},data:function(){return{index:0,modal1:!1,loading:!0,titleList:["进行中","待进行","待进行","待进行"],basicInformation:i["a"],basicInformation2:i["b"],consignee:i["d"],commodityInformation:i["c"],priceInformation:i["f"],priceInformation2:i["g"],operation:i["e"],message:{orderItemList:[],historyList:[]},error:"process",remark:""}},methods:{getStatus:function(t){var e="";switch(t){case 0:e="待付款";break;case 1:e="待发货";break;case 2:e="已发货";break;case 3:e="已完成";break;case 4:e="已关闭";break;case 5:e="无效订单";break;default:e="未知";break}return e},handleDel:function(){var t=this;this.$Modal.confirm({title:"是否删除订单",content:"<p>删除后订单将不可见</p>",onOk:function(){orderDelete(t.message.id).then((function(e){t.$Message.success("删除成功"),t.handleSearch()})).catch((function(t){}))},onCancel:function(){}})},handleRemark:function(){this.modal1=!0},ok:function(){var t=this,e={note:this.remark,operater:localStorage.userId,operaterName:localStorage.userName,orderStatus:this.message.status};Object(g["d"])(this.message.id,e).then((function(e){t.modal1=!1,t.$Message.success("备注成功"),t.handleSearch(t.message.id)})).catch((function(e){t.loading=!1,t.$nextTick((function(){t.loading=!0}))}))},cancel:function(){},handleSearch:function(t){var e=this;Object(g["a"])(t).then((function(t){if(console.log(t),e.message=t.data.data,4===e.message.status)e.error="error",e.titleList[0]="已关闭";else{e.index=e.message.status;for(var n=e.titleList,a=0;a<e.index;a++)n[a]="已完成";n[e.index]="进行中",e.titleList=n}})).catch((function(t){}))}},mounted:function(){this.$route.query.id?this.handleSearch(this.$route.query.id):this.$router.back()}},p=f,k=(n("2324"),Object(u["a"])(p,a,r,!1,null,"92f1b366",null));e["default"]=k.exports},2324:function(t,e,n){"use strict";var a=n("edb6"),r=n.n(a);r.a},9826:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return s})),n.d(e,"e",(function(){return l}));n("ac6a");var a=[{title:"订单编号",key:"orderSn",align:"center"},{title:"发货单流水号",key:"sadf",align:"center",render:function(t,e){return t("div",{},"暂无")}},{title:"用户账号",key:"customerId",align:"center"},{title:"支付方式",key:"payType",align:"center",render:function(t,e){return t("div",{},u(e.row.payType))}},{title:"订单来源",key:"id",align:"center",render:function(t,e){return t("div",{},"微信小程序")}},{title:"订单类型",key:"status",align:"center",render:function(t,e){return t("div",{},d(e.row.status))}}],r=[{title:"配送方式",key:"deliveryCompany",align:"center"},{title:"物流单号",key:"deliverySn",align:"center"},{title:"自动确认收货时间",key:"autoConfirmDay",align:"center"},{title:"订单可得积分",key:"integration",align:"center"},{title:"订单可得成长值",key:"growth",align:"center"},{title:"活动信息",key:"promotionInfo",align:"center",tooltip:!0}],i=[{title:"收货人",key:"receiverName",align:"center"},{title:"手机号码",key:"receiverPhone",align:"center"},{title:"邮政编码",key:"receiverPostCode",align:"center"},{title:"收货地址",key:"receiverDetailAddress",align:"center"}],o=[{title:"商品图片",key:"productPic",align:"center",render:function(t,e){return t("img",{attrs:{src:e.row.productPic},style:{width:"75px",height:"100px",padding:"10px 0"}})}},{title:"商品名称",key:"productName",align:"center"},{title:"价格/货号",key:"id",align:"center",render:function(t,e){return t("div",{},[t("p",{},"价格:".concat(e.row.productPrice)),t("p",{},"货号:".concat(e.row.productSn))])}},{title:"属性",key:"productAttr",align:"center",render:function(t,e){return t("p",{},m(e.row.productAttr))}},{title:"数量",key:"productQuantity",align:"center"},{title:"小计",key:"productPrice",align:"center"}],c=[{title:"商品合计",key:"totalAmount",align:"center"},{title:"运费",key:"freightAmount",align:"center"},{title:"优惠券",key:"couponAmount",align:"center"},{title:"积分抵扣",key:"integrationAmount",align:"center"}],s=[{title:"活动优惠",key:"promotionAmount",align:"center"},{title:"折扣金额",key:"integrationAmount",align:"center"},{title:"订单总金额",key:"totalAmount",align:"center"},{title:"应付款金额",key:"payAmount",align:"center"}],l=[{title:"操作者",key:"operater",align:"center"},{title:"操作时间",key:"createTime",align:"center"},{title:"订单状态",key:"orderStatus",align:"center",render:function(t,e){return t("div",{},d(e.row.orderStatus))}},{title:"付款状态",key:"id",align:"center",render:function(t,e){return t("div",{},0===e.row.orderStatus?"未付款":"已付款")}},{title:"发货状态",key:"id",align:"center",render:function(t,e){return t("div",{},2===e.row.orderStatus||3===e.row.orderStatus?"已发货":"未发货")}},{title:"备注",key:"note",align:"center",tooltip:!0}],u=function(t){var e="";switch(t){case 0:e="未支付";break;case 1:e="支付宝";break;case 2:e="微信";break;default:e="德昌没给我返";break}return e},d=function(t){var e="";switch(t){case 0:e="待付款";break;case 1:e="待发货";break;case 2:e="已发货";break;case 3:e="已完成";break;case 4:e="已关闭";break;case 5:e="无效订单";break;default:e="未知";break}return e},m=function(t){var e="";try{var n=JSON.parse(t);n.forEach((function(t){var n="".concat(t.key,":").concat(t.value);e=e?"".concat(e,";").concat(n):n}))}catch(a){e=t}return console.log(e),e}},d9ce:function(t,e,n){"use strict";var a=n("023c"),r=n.n(a);r.a},edb6:function(t,e,n){},f8b7:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return l}));var a=n("7618"),r=n("66df"),i=function(t,e){var n=t.getFullYear(),a=t.getMonth()+1>=10?t.getMonth()+1:"0"+(t.getMonth()+1),r=t.getDate()>=10?t.getDate():"0"+t.getDate(),i=t.getHours()>=10?t.getHours():"0"+t.getHours(),o=t.getMinutes()>=10?t.getMinutes():"0"+t.getMinutes();return e?"".concat(n,"-").concat(a,"-").concat(r," ").concat(i,":").concat(o):"".concat(n,"-").concat(a,"-").concat(r)},o=function(t){var e=t.orderSn,n=t.status,o=t.receiverName,c=t.receiverPhone,s=t.createTime,l=t.pageNum,u=t.pageSize;s&&"object"===Object(a["a"])(s)&&(s=i(s));var d={orderSn:e,status:n,receiverName:o,receiverPhone:c,createTime:s,pageNum:l,pageSize:u};return r["a"].request({url:"/order/list",params:d,method:"get"})},c=function(t){var e={ids:t};return r["a"].request({url:"/order/delete",params:e,method:"post"})},s=function(t,e){return r["a"].request({url:"/order/update/note/".concat(t),data:e,method:"post",headers:{"content-type":"application/json"}})},l=function(t){var e={};return r["a"].request({url:"/order/".concat(t),params:e,method:"get"})}}}]);