(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ac21d"],{"17de":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("tabBar",{attrs:{show:!0,add:e.handleAdd}}),a("TablePage",{attrs:{columns:e.tableList.columns,data:e.tableList.data1,total:e.tableList.total,limit:e.search.pageSize,handleSearch:e.handleSearch},on:{"change-limit":e.handleChange},model:{value:e.search.pageNum,callback:function(t){e.$set(e.search,"pageNum",t)},expression:"search.pageNum"}}),a("Modal",{attrs:{title:e.update?"修改":"添加",loading:e.loading},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.modal1,callback:function(t){e.modal1=t},expression:"modal1"}},[a("Form",{ref:"formReason",attrs:{model:e.formReason,rules:e.ruleInline,"label-colon":"","label-width":120}},[a("FormItem",{attrs:{prop:"name",label:"原因类型"}},[a("Input",{model:{value:e.formReason.name,callback:function(t){e.$set(e.formReason,"name",t)},expression:"formReason.name"}})],1),a("FormItem",{attrs:{prop:"sort",label:"排序"}},[a("InputNumber",{attrs:{min:0},model:{value:e.formReason.sort,callback:function(t){e.$set(e.formReason,"sort",t)},expression:"formReason.sort"}})],1),a("FormItem",{attrs:{prop:"status",label:"是否启用"}},[a("i-switch",{attrs:{"true-value":1,"false-value":0},model:{value:e.formReason.status,callback:function(t){e.$set(e.formReason,"status",t)},expression:"formReason.status"}})],1)],1)],1)],1)},o=[],s=(a("386d"),a("90de")),r=a("66df"),i=function(e){var t=e.pageNum,a=e.pageSize,n={pageNum:t,pageSize:a};return r["a"].request({url:"/returnReason/list",params:n,method:"get"})},l=function(e){return r["a"].request({url:"/returnReason/create",data:e,method:"post",headers:{"content-type":"application/json"}})},c=function(e,t){return r["a"].request({url:"/returnReason/update/".concat(e),data:t,method:"post",headers:{"content-type":"application/json"}})},u=function(e){var t={ids:e};return r["a"].request({url:"/returnReason/delete",data:t,method:"post",headers:{"content-type":"application/json"}})},d={data:function(){var e=this;return{loading:!0,modal1:!1,update:!1,search:{pageNum:1,pageSize:10},tableList:{columns:[{title:"编号",key:"id",align:"center"},{title:"原因类型",key:"name",align:"center"},{title:"排序",key:"sort",align:"center"},{title:"是否可用",key:"status",align:"center",render:function(t,a){return t("i-switch",{props:{value:a.row.status,size:"large",trueValue:1,falseValue:0},on:{"on-change":function(t){var n={status:t};c(a.row.id,n).then((function(t){e.$Message.success("修改成功")})).catch((function(e){}))}},scopedSlots:{open:function(){return t("span","显示")},close:function(){return t("span","关闭")}}})}},{title:"添加时间",key:"createTime",align:"center"},{title:"操作",key:"packName",align:"center",render:function(t,a){return t("div",{style:{display:"flex",justifyContent:"center"}},[t("i-button",{style:{marginLeft:"15px"},on:{click:function(){e.update=!0,e.modal1=!0,e.formReason=Object(s["h"])(a.row,e.formReason)}}},"编辑"),t("i-button",{style:{marginLeft:"15px"},props:{type:"error"},on:{click:function(){u(a.row.id).then((function(t){e.$Message.success("删除成功"),e.handleSearch()})).catch((function(e){}))}}},"删除")])}}],data1:[],total:0},formReason:{id:null,sort:0,name:"",status:0},ruleInline:{name:[{required:!0,message:"请输入原因类型",trigger:"blur,change"},{type:"string",max:15,message:"不能超过15个字符",trigger:"blur,change"}],sort:[{required:!0,type:"number",message:"请输入展示顺序",trigger:"blur,change"}]}}},methods:{handleSearch:function(e){var t=this;"page"!==e&&(this.search.pageNum=1),i(this.search).then((function(e){console.log(e),t.tableList.total=e.data.total,t.tableList.data1=e.data.data})).catch((function(e){}))},handleChange:function(e){this.search.pageSize=e,this.handleSearch()},handleAdd:function(){this.update=!1,this.modal1=!0},ok:function(){var e=this;this.$refs.formReason.validate((function(t){t?e.update?c(e.formReason.id,e.formReason).then((function(t){e.$Message.success("修改成功"),e.modal1=!1,e.handleSearch()})).catch((function(t){e.loading=!1,e.$nextTick((function(){e.loading=!0}))})):l(e.formReason).then((function(t){e.$Message.success("添加成功"),e.modal1=!1,e.handleSearch()})).catch((function(t){e.loading=!1,e.$nextTick((function(){e.loading=!0}))})):(e.loading=!1,e.$nextTick((function(){e.loading=!0})))}))},cancel:function(){this.formReason.name="",this.formReason.sort=0}},created:function(){this.handleSearch()}},m=d,h=a("2877"),f=Object(h["a"])(m,n,o,!1,null,"0aa9cf50",null);t["default"]=f.exports}}]);