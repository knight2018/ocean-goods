(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d221c45"],{cc6e:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("tabBar",{attrs:{show:!0,add:t.handleAdd}}),a("TablePage",{attrs:{columns:t.tableList.columns,data:t.tableList.data1,total:t.tableList.total,limit:t.search.limit,handleSearch:t.handleSearch},on:{"change-limit":t.handleChange},model:{value:t.search.page,callback:function(e){t.$set(t.search,"page",e)},expression:"search.page"}}),a("Modal",{attrs:{title:"删除数据",loading:!0},on:{"on-ok":t.asyncOK},model:{value:t.modalOff,callback:function(e){t.modalOff=e},expression:"modalOff"}},[a("p",[t._v("数据无价，确定要删除数据么")])]),a("Modal",{attrs:{title:t.update?"修改类型":"添加类型",loading:!0},on:{"on-ok":t.asyncAdd},model:{value:t.addOff,callback:function(e){t.addOff=e},expression:"addOff"}},[a("Form",{ref:"formAttr",attrs:{model:t.formAttr,rules:t.ruleInline,"label-colon":"","label-width":100}},[a("FormItem",{attrs:{prop:"attributeCategoryName",label:"商品类型"}},[a("Input",{staticStyle:{width:"300px"},model:{value:t.formAttr.attributeCategoryName,callback:function(e){t.$set(t.formAttr,"attributeCategoryName",e)},expression:"formAttr.attributeCategoryName"}})],1)],1)],1)],1)},n=[],i=(a("386d"),a("7e1e")),o={data:function(){var t=this;return{modalOff:!1,update:!1,addOff:!1,id:null,formAttr:{attributeCategoryName:""},ruleInline:{attributeCategoryName:[{required:!0,message:"请输入商品类型",trigger:"blur,change"},{type:"string",max:15,message:"不能超过15个字符",trigger:"blur,change"}]},tableList:{columns:[{title:"编号",key:"attributeCategoryId",align:"center"},{title:"类型名称",key:"attributeCategoryName",align:"center"},{title:"属性数量",key:"attributeCount",align:"center"},{title:"参数数量",key:"paramCount",align:"center"},{title:"设置",key:"packName",align:"center",render:function(e,a){return e("div",{style:{display:"flex",justifyContent:"center"}},[e("i-button",{style:{marginLeft:"15px"},props:{},on:{click:function(){t.$router.push({name:"/attribute",query:{id:a.row.attributeCategoryId,name:a.row.attributeCategoryName,type:0}})}}},"属性列表"),e("i-button",{style:{marginLeft:"15px"},props:{},on:{click:function(){t.$router.push({name:"/attribute",query:{id:a.row.attributeCategoryId,name:a.row.attributeCategoryName,type:1}})}}},"参数列表")])}},{title:"操作",key:"packName",align:"center",render:function(e,a){return e("div",{style:{display:"flex",justifyContent:"center"}},[e("i-button",{style:{marginLeft:"15px"},on:{click:function(){t.formAttr.attributeCategoryName=a.row.attributeCategoryName,t.id=a.row.attributeCategoryId,t.addOff=!0,t.update=!0}}},"编辑"),e("i-button",{style:{marginLeft:"15px"},props:{type:"error"},on:{click:function(){t.id=a.row.attributeCategoryId,t.modalOff=!0}}},"删除")])}}],data1:[],total:0},search:{page:1,limit:10}}},methods:{handleChange:function(t){this.search.limit=t,this.handleSearch()},handleSearch:function(t){var e=this;this.loading=!0,"page"!==t&&(this.search.page=1);var a=this.search.page,r=this.search.limit;Object(i["d"])({pageNum:a,pageSize:r}).then((function(t){console.log(t),e.tableList.data1=t.data.data,e.tableList.total=t.data.total,e.loading=!1})).catch((function(t){e.loading=!1}))},asyncOK:function(){var t=this,e={categoryStatus:0};Object(i["e"])(this.id,e).then((function(e){t.$Message.warning("刪除成功"),t.modalOff=!1,t.handleSearch()})).catch((function(e){t.modalOff=!1}))},asyncAdd:function(){var t=this;this.$refs.formAttr.validate((function(e){e?t.update?Object(i["e"])(t.id,t.formAttr).then((function(e){t.addOff=!1,t.$Message.success("修改成功"),t.handleSearch()})).catch((function(e){t.addOff=!1})):Object(i["c"])(t.formAttr).then((function(e){t.addOff=!1,t.handleSearch(),t.$Message.success("添加成功")})).catch((function(e){t.addOff=!1})):t.$Message.error("请输入参数")}))},handleAdd:function(){this.addOff=!0,this.update=!1,this.formAttr.attributeCategoryName=""}},created:function(){this.handleSearch()}},l=o,c=a("2877"),d=Object(c["a"])(l,r,n,!1,null,null,null);e["default"]=d.exports}}]);