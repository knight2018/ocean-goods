(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-179a572a"],{"709b":function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return r}));a("7f7f");var n=a("66df"),s=function(e){var t=e.name,a=e.showStatus,s=e.pageNum,c=e.pageSize,r={name:t,showStatus:a,pageNum:s,pageSize:c};return n["a"].request({url:"/carousel/list",params:r,method:"get"})},c=function(e){return n["a"].request({url:"/carousel/create",data:e,method:"post",headers:{"content-type":"application/json"}})},r=function(e,t){return n["a"].request({url:"/carousel/update/".concat(e),data:t,method:"post",headers:{"content-type":"application/json"}})}},"8d78":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Search",{attrs:{handleSearch:e.handleSearch,handleClear:e.handleClear,loading:e.loading}},[a("div",{staticClass:"flex"},[a("div",[a("span",[e._v("输入搜索：")]),a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入轮播标题"},on:{"on-enter":e.handleSearch},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1),a("div",{staticClass:"mg-30"},[a("span",[e._v("展示状态：")]),a("Select",{staticStyle:{width:"200px"},attrs:{clearable:""},model:{value:e.search.status,callback:function(t){e.$set(e.search,"status",t)},expression:"search.status"}},e._l(e.statusList,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)])]),a("tabBar",{attrs:{show:!0,add:e.handleAdd}}),a("TablePage",{attrs:{columns:e.tableList.columns,data:e.tableList.data1,total:e.tableList.total,limit:e.search.limit,handleSearch:e.handleSearch},on:{"change-limit":e.handleChange},model:{value:e.search.page,callback:function(t){e.$set(e.search,"page",t)},expression:"search.page"}})],1)},s=[],c=(a("7f7f"),a("386d"),a("709b")),r={data:function(){var e=this;return{loading:!1,search:{name:"",status:void 0,limit:10,page:1},tableList:{columns:[{title:"名称",key:"name",align:"center"},{title:"展示顺序",key:"sort",align:"center"},{title:"缩略图",key:"pic",align:"center",render:function(e,t){return e("img",{attrs:{src:t.row.pic},style:{width:"75px",height:"100px",padding:"10px 0"}})}},{title:"展示商品",key:"productSn",align:"center"},{title:"创建人",key:"creater",align:"center"},{title:"创建时间",key:"createTime",align:"center"},{title:"展示状态",key:"showStatus",align:"center",render:function(t,a){return t("i-switch",{props:{value:a.row.showStatus,size:"large",trueValue:1,falseValue:0},on:{"on-change":function(t){var n={showStatus:t};Object(c["c"])(a.row.id,n).then((function(t){e.$Message.success("修改成功")})).catch((function(e){}))}},scopedSlots:{open:function(){return t("span","显示")},close:function(){return t("span","关闭")}}})}},{title:"操作",key:"packName",align:"center",render:function(t,a){return t("div",{style:{display:"flex",justifyContent:"center"}},[t("i-button",{style:{marginLeft:"15px"},on:{click:function(){var t=JSON.stringify(a.row);e.$router.push({name:"/bannerAdd",query:{obj:t}})}}},"编辑"),t("i-button",{style:{marginLeft:"15px"},props:{type:"error"},on:{click:function(){var t={carouselStatus:0};Object(c["c"])(a.row.id,t).then((function(t){e.$Message.success("删除成功"),e.handleSearch()})).catch((function(e){}))}}},"删除")])}}],data1:[{packName:1}],total:0},modalOff:!1,changeOff:!1,statusList:[{value:1,label:"上线"},{value:0,label:"下线"}]}},methods:{handleSearch:function(e){var t=this;this.loading=!0,"page"!==e&&(this.search.page=1);var a=this.search.name,n=this.search.status,s=this.search.page,r=this.search.limit;Object(c["b"])({name:a,showStatus:n,pageNum:s,pageSize:r}).then((function(e){console.log(e),t.tableList.total=e.data.total,t.tableList.data1=e.data.data,t.loading=!1})).catch((function(e){t.loading=!1}))},handleClear:function(){this.loading=!1,this.search={name:"",status:void 0,limit:10,page:1},this.handleSearch()},handleChange:function(e){this.search.limit=e,this.handleSearch()},handleAdd:function(){this.$router.push({name:"/bannerAdd"})}},created:function(){this.handleSearch()}},i=r,l=(a("d6b7"),a("2877")),o=Object(l["a"])(i,n,s,!1,null,"da421fcc",null);t["default"]=o.exports},d6b7:function(e,t,a){"use strict";var n=a("efc3"),s=a.n(n);s.a},efc3:function(e,t,a){}}]);