(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33467644"],{2707:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Search",{attrs:{handleSearch:e.handleSearch,handleClear:e.handleClear,loading:e.loading}},[a("div",{staticClass:"flex"},[a("div",{staticClass:"mg-tp"},[a("span",[e._v("输入搜索：")]),a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入订单号"},on:{"on-enter":e.handleSearch},model:{value:e.search.orderSn,callback:function(t){e.$set(e.search,"orderSn",t)},expression:"search.orderSn"}})],1),a("div",{staticClass:"mg-30 mg-tp"},[a("span",[e._v("收货人姓名：")]),a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"收货人姓名"},on:{"on-enter":e.handleSearch},model:{value:e.search.receiverName,callback:function(t){e.$set(e.search,"receiverName",t)},expression:"search.receiverName"}})],1),a("div",{staticClass:"mg-30 mg-tp"},[a("span",[e._v("收货人手机号：")]),a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"收货人手机号"},on:{"on-enter":e.handleSearch},model:{value:e.search.receiverPhone,callback:function(t){e.$set(e.search,"receiverPhone",t)},expression:"search.receiverPhone"}})],1),a("div",{staticClass:"mg-30 mg-tp"},[a("span",[e._v("提交时间：")]),a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"Select date"},model:{value:e.search.createTime,callback:function(t){e.$set(e.search,"createTime",t)},expression:"search.createTime"}})],1),a("div",{staticClass:"mg-30 mg-tp"},[a("span",[e._v("订单状态：")]),a("Select",{staticStyle:{width:"200px"},attrs:{clearable:""},model:{value:e.search.status,callback:function(t){e.$set(e.search,"status",t)},expression:"search.status"}},e._l(e.statusList,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)])]),a("tabBar"),a("TablePage",{attrs:{columns:e.tableList.columns,data:e.tableList.data1,total:e.tableList.total,limit:e.search.pageSize,handleSearch:e.handleSearch},on:{"change-limit":e.handleChange},model:{value:e.search.pageNum,callback:function(t){e.$set(e.search,"pageNum",t)},expression:"search.pageNum"}})],1)},r=[],c=(a("386d"),a("f8b7")),s={data:function(){var e=this;return{loading:!1,search:{orderSn:"",receiverName:"",receiverPhone:"",createTime:null,status:void 0,pageNum:1,pageSize:10},statusList:[{value:0,label:"待付款"},{value:1,label:"待发货"},{value:2,label:"已发货"},{value:3,label:"已完成"},{value:4,label:"已关闭"},{value:5,label:"无效订单"}],tableList:{columns:[{title:"编号",key:"id",align:"center"},{title:"订单编号",key:"orderSn",align:"center"},{title:"提交时间",key:"createTime",align:"center"},{title:"用户账号",key:"customerName",align:"center"},{title:"订单金额",key:"payAmount",align:"center"},{title:"支付方式",key:"payType",align:"center",render:function(t,a){return t("span",{},e.getPay(a.row.payType))}},{title:"订单状态",key:"status",align:"center",render:function(t,a){return t("span",{},e.getStatus(a.row.status))}},{title:"操作",key:"packName",align:"center",render:function(t,a){return t("div",{style:{display:"flex",justifyContent:"center"}},[t("i-button",{style:{marginLeft:"15px"},on:{click:function(){e.$router.push({name:"/orderDetalis",query:{id:a.row.id}})}}},"查看订单"),t("i-button",{style:{marginLeft:"15px",display:1===a.row.status?"block":"none"},on:{click:function(){}}},"订单发货"),t("i-button",{style:{marginLeft:"15px",display:2===a.row.status||3===a.row.status?"block":"none"},on:{click:function(){}}},"订单追踪"),t("i-button",{style:{marginLeft:"15px",display:4===a.row.status||5===a.row.status?"block":"none"},props:{type:"error"},on:{click:function(){e.orderDelete(a.row.id)}}},"删除订单")])}}],data1:[],total:0}}},methods:{handleSearch:function(e){var t=this;this.loading=!0,"page"!==e&&(this.search.pageNum=1),Object(c["c"])(this.search).then((function(e){console.log(e),t.tableList.total=e.data.total,t.tableList.data1=e.data.data,t.loading=!1})).catch((function(e){t.loading=!1}))},handleClear:function(){this.loading=!1,this.search={orderSn:"",receiverName:"",receiverPhone:"",createTime:null,status:void 0,pageNum:1,pageSize:10},this.handleSearch()},handleChange:function(e){this.search.pageSize=e,this.handleSearch()},orderDelete:function(e){var t=this;this.$Modal.confirm({title:"是否删除订单",content:"<p>删除后订单将不可见</p>",onOk:function(){Object(c["b"])(e).then((function(e){t.$Message.success("删除成功"),t.handleSearch()})).catch((function(e){}))},onCancel:function(){}})},getPay:function(e){var t="";switch(e){case 0:t="未支付";break;case 1:t="支付宝";break;case 2:t="微信";break;default:t="德昌没给我返";break}return t},getStatus:function(e){var t="";switch(e){case 0:t="待付款";break;case 1:t="待发货";break;case 2:t="已发货";break;case 3:t="已完成";break;case 4:t="已关闭";break;case 5:t="无效订单";break;default:t="未知";break}return t}},created:function(){this.handleSearch()}},i=s,l=a("2877"),o=Object(l["a"])(i,n,r,!1,null,"a349b4c6",null);t["default"]=o.exports},f8b7:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return o}));var n=a("7618"),r=a("66df"),c=function(e,t){var a=e.getFullYear(),n=e.getMonth()+1>=10?e.getMonth()+1:"0"+(e.getMonth()+1),r=e.getDate()>=10?e.getDate():"0"+e.getDate(),c=e.getHours()>=10?e.getHours():"0"+e.getHours(),s=e.getMinutes()>=10?e.getMinutes():"0"+e.getMinutes();return t?"".concat(a,"-").concat(n,"-").concat(r," ").concat(c,":").concat(s):"".concat(a,"-").concat(n,"-").concat(r)},s=function(e){var t=e.orderSn,a=e.status,s=e.receiverName,i=e.receiverPhone,l=e.createTime,o=e.pageNum,u=e.pageSize;l&&"object"===Object(n["a"])(l)&&(l=c(l));var d={orderSn:t,status:a,receiverName:s,receiverPhone:i,createTime:l,pageNum:o,pageSize:u};return r["a"].request({url:"/order/list",params:d,method:"get"})},i=function(e){var t={ids:e};return r["a"].request({url:"/order/delete",params:t,method:"post"})},l=function(e,t){return r["a"].request({url:"/order/update/note/".concat(e),data:t,method:"post",headers:{"content-type":"application/json"}})},o=function(e){var t={};return r["a"].request({url:"/order/".concat(e),params:t,method:"get"})}}}]);